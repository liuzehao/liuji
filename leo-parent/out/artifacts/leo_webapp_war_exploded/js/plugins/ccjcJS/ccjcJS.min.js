var JCRegExp={email:{code:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,msg:"请填写正确E-mail！"},url:{code:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,msg:"请输入正确的网址！"},qq:{code:/^[1-9][0-9]{4,11}$/,msg:"请填写正确QQ！"},telephone:{code:/^[0-9()\-]+$/,msg:"请输入正确的电话号码！"},mobilePhone:{code:/^1[0-9]{10}$/,msg:"请输入正确的手机号码！"},positiveInt:{code:/^[0-9]*$/,msg:"请输入0-9的数字！"},letterNum:{code:/^\w+$/,msg:"请输入数字、字母或下划线！"},chinese:{code:/^[\u4e00-\u9fa5]+$/,msg:"请输入中文！"},chineseAndLetter:{code:/^[\u4e00-\u9fa5a-zA-Z]+$/,msg:"请输入中文或字母！"},chineseLetterNum:{code:/^[\u4e00-\u9fa5a-zA-Z0-9]+$/,msg:"请输入中文、字母或数字！"},chineseLetterNumLine:{code:/^[\u4e00-\u9fa5\w]+$/,msg:"请输入中文、数字、字母或下划线！"}},JCTools={getStr:function(e){return e<10?"0"+e:e+""},checkNum:function(e,t){t=t==undefined||t==""?0:t;var n=this.toString().trim(),r={};r.bool=!1;var i=/^.*\..*\..*$/g;if(i.test(n)||n.charAt(0)==="."||n.charAt(n.length-1)===".")return r;n=n.replace(/^(0*)/g,""),i=/^.*\..*/g,i.test(n)&&(n=n.replace(/(0*)$/g,"")),n.charAt(0)==="."&&(n="0"+n),n.charAt(n.length-1)==="."&&(n=n.replace(/\./g,""));if(n==""||n=="0")return r.bool=!0,r;var s=new RegExp("^((-{0,1})([1-9]\\d{0,"+(e-1)+"}))$"),o=new RegExp("^((-{0,1})(0\\.\\d{0,"+t+"})|([1-9]\\d{0,"+(e-1)+"}\\.\\d{0,"+t+"}))$");if(s.test(n)||o.test(n))r.bool=!0;return r},setNullString:function(e){return e===undefined||e===null||e.toString().toLowerCase()==="null"?"":e},chnMoney:function(){var e=99999999999.99,t="零",n="壹",r="贰",i="叁",s="肆",o="伍",u="陆",a="柒",f="捌",l="玖",c="拾",h="佰",p="仟",d="万",v="亿",m="",g="元",y="角",b="分",w="整",E,S,x,T,N,C,k,L,A,O,M,_,D,P,H=this.toString();if(H=="")return"";if(H.match(/[^,.\d]/)!=null)return"";if(H.match(/^((\d{1,3}(,\d{3})*(.((\d{3},)*\d{1,3}))?)|(\d+(.\d+)?))$/)==null)return"";H=H.replace(/,/g,""),H=H.replace(/^0+/,"");if(Number(H)>e)return"";T=H.split("."),T.length>1?(E=T[0],S=T[1],S=S.substr(0,2)):(E=T[0],S=""),N=new Array(t,n,r,i,s,o,u,a,f,l),C=new Array("",c,h,p),k=new Array("",d,v),L=new Array(y,b),x="";if(Number(E)>0){A=0;for(O=0;O<E.length;O++)M=E.length-O-1,_=E.substr(O,1),D=M/4,P=M%4,_=="0"?A++:(A>0&&(x+=N[0]),A=0,x+=N[Number(_)]+C[P]),P==0&&A<4&&(x+=k[D]);x+=g}if(S!="")for(O=0;O<S.length;O++)_=S.substr(O,1),_!="0"&&(x+=N[Number(_)]+L[O]);return x==""&&(x=t+g),S==""&&(x+=w),x=m+x,x},intDeal:function(e){if($(this).attr("readonly"))return;var t=e.type,n=$(this).attr("max"),r=$(this).attr("min"),i=$(this).attr("range"),s=$(this).attr("defaultVal");if(t=="keydown"){i=i==undefined?1:parseInt(i,10);var o=e.which;if(e.shiftKey)return!1;if(e.ctrlKey)return!0;if(o==38&&this.value.isNotEmpty().bool&&(n==undefined||n!=undefined&&parseInt(this.value,10)+i<=parseInt(n,10)))return this.value=parseInt(this.value,10)+i,!0;if(o==40&&this.value.isNotEmpty().bool&&(r==undefined||r!=undefined&&parseInt(this.value,10)-i>=parseInt(r,10)))return $(this).attr("positive")=="positive"&&parseInt(this.value,10)-i<"0"?!0:(this.value=parseInt(this.value,10)-i,!0);var u=this.value,a=u.length,f=JCTools.getPositionForInput(this);return(o==110||o==190)&&a>=2&&u.substring(a-2)=="00"?JCTools.setPositionForInput(this,f):f==a-1&&u.substring(a-2)!="00"?JCTools.setPositionForInput(this,f):f==a-1&&u.substring(a-2)=="00",o==37||o==39||o==8||o==46||o==9?!0:o<=57&&o>=48||o>=96&&o<=105?n==undefined||this.value!=n||JCTools.getSelectText(this).length>0:o==229?!0:((o==109||o==189)&&$(this).attr("positive")!="positive"&&(this.value="-"+this.value.replace("-","")),!1)}if(t=="keyup"){o=e.which;if(o==37||o==39||o==8||o==46||o==9)return!0;this.value.search(/[^\d\-]/)!=-1&&(this.value=this.value.replace(/[^\d\-]/g,"")),n!=undefined&&parseInt(this.value,10)>parseFloat(n)&&(this.value=n)}if(t=="blur"||t=="mouseout"){this.value.search(/[^\d\-]/)!=-1&&(this.value=this.value.replace(/[^\d\-]/g,""));var l=this.value;l.indexOf("-")!=-1&&(this.value="-"+l.replace(/\-/g,"")),this.value=="-"&&(this.value=""),$(this).attr("positive")=="positive"&&$(this).val(this.value.replace(/\-/g,"")),r!=undefined&&parseInt(this.value,10)<parseFloat(r)&&(this.value=r),this.value=this.value==""?"":parseInt(this.value,10),(this.value=="0"||this.value=="")&&s!=undefined&&(this.value=s)}t=="focus"&&this.select()},intInit:function(e){return e=e==undefined?$("input[itype=int]").unbind(".intDeal"):e,e.bind("keydown.intDeal keyup.intDeal blur.intDeal focus.intDeal",JCTools.intDeal),this},floatDeal:function(e){if($(this).attr("readonly"))return;var t=e.type,n=$(this).attr("max"),r=$(this).attr("min"),i=$(this).attr("positive"),s=$(this).attr("precision"),o=$(this).attr("toFix"),u=$(this).attr("noZero"),a=$(this).attr("defaultVal");if(t=="keydown"){var f=e.which;if(e.shiftKey)return!1;if(f==38&&this.value.isNotEmpty().bool&&(n==undefined||n!=undefined&&parseFloat(this.value)<parseFloat(n))){var l=this.value.split(".");return l[0]=parseInt(l[0],10)+1,this.value=l.length==1?l[0]:l[0]+"."+l[1],!0}if(f==40&&this.value.isNotEmpty().bool&&(r==undefined||r!=undefined&&parseFloat(this.value)>parseFloat(r))){var c=parseFloat(this.value)-1;if($(this).attr("positive")=="positive"&&c<0)return!0;var h=this.value.split(".");return h[0]=parseInt(h[0],10)-1,this.value=h.length==1?h[0]:h[0]+"."+h[1],!0}return f==37||f==39||f==8||f==46||f==9||f==35||f==36?!0:f<=57&&f>=48||f>=96&&f<=105?(n==undefined||this.value!=n)&&(s==undefined||this.value.split(".").length<2||this.value.split(".")[1].length!=parseInt(s,10)||JCTools.getPositionForInput(this)<this.value.indexOf(".")+1||JCTools.getSelectText(this).length>0):f==110||f==190?this.value.indexOf(".")==-1:f==229?!0:((f==109||f==189)&&i!="positive"&&(this.value="-"+this.value.replace("-","")),!1)}if(t=="keyup"){f=e.which;if(f==37||f==39||f==8||f==46||f==9)return!0;this.value.search(/[^\d\-\.]/)!=-1&&(this.value=this.value.replace(/[^\d\-\.]/g,"")),n!=undefined&&parseFloat(this.value)>parseFloat(n)&&(this.value=n)}if(t=="blur"){var p=this.value;p.search(/[^\d\-\.]/)!=-1&&(this.value=p.replace(/[^\d\-\.]/g,"")),p=this.value,p.indexOf("-")!=-1&&(this.value="-"+p.replace(/\-/g,"")),p=this.value;var d=p.lastIndexOf(".");d!=p.indexOf(".")&&(this.value=p.substring(0,d).replace(/\./g,"")+p.substring(d)),p=this.value;if(p.indexOf(".")==0||p.indexOf(".")+1==p.length)this.value=p.replace(/\./g,"");this.value=this.value=="-"?"":this.value,p=this.value,i=="positive"&&p.indexOf("_")!=-1&&(this.value=p.replace(/\-/g,"")),p=this.value,r!=undefined&&parseFloat(p)<parseFloat(r)&&(this.value=r),p=this.value,u!=undefined&&parseFloat(this.value)==0&&(this.value=""),p=this.value,s!=undefined&&p.indexOf(".")!=-1&&(p=parseFloat(p.substring(0,p.indexOf(".")+parseInt(s,10)+1)),this.value=p),this.value!=""&&s!=undefined&&o!=undefined?this.value=parseFloat(this.value).toFixed(s):this.value!=""&&(this.value=parseFloat(p)),(this.value=="0"||this.value=="")&&a!=undefined&&(this.value=a)}t=="focus"&&this.select()},floatInit:function(e){return e=e==undefined?$("input[itype=float]").unbind(".floatDeal"):e,e.bind("keydown.floatDeal keyup.floatDeal blur.floatDeal focus.floatDeal",JCTools.floatDeal),this},getPositionForInput:function(e){var t=0;if(document.selection){e.focus();var n=document.selection.createRange();n.moveStart("character",-e.value.length),t=n.text.length}else if(e.selectionStart||e.selectionStart=="0")t=e.selectionStart;return t},setPositionForInput:function(e,t){if(e.setSelectionRange)e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}},getSelectText:function(e){var t;return e.selectionStart!=undefined?t=e.value.substr(e.selectionStart,e.selectionEnd-e.selectionStart):window.getSelection?t=window.getSelection():document.getSelection?t=document.getSelection():document.selection&&(t=document.selection.createRange().text),t},dateDeal:function(){var e=$(this).attr("iType");e=="date"&&(e="yyyy-MM-dd"),e=="datetime"&&(e="yyyy-MM-dd HH:mm:ss"),e=="dateYear"&&(e="yyyy"),e=="dateMonth"&&(e="yyyy-MM"),$(this).attr("readonly","readonly"),WdatePicker&&WdatePicker({dateFmt:e})},enterToTab:function(e){e==undefined&&(e=$("input:visible,select").not("select:disabled").not("input:disabled").not("input[readonly]"));var t=e.size();return e.unbind(".entertotab").bind("keydown.entertotab",function(n){if(n.which==13){if(n.target.tagName.toLocaleLowerCase()=="a")return!0;var r=e.index(this);return r+1<t?($(this).blur(),e[r+1].focus()):e[0].focus(),!1}}),e},forbidBack:function(){$("body").keydown(function(e){var t=e.target.tagName.toLocaleLowerCase();return e.which==8&&t!="input"&&t!="textarea"?!1:e.which!=8||t!="input"&&t!="textarea"||!$(e.target).attr("readonly")?!0:!1})},firstFocus:function(e){e=e==undefined?!0:e;var t=$("input:text:visible,textarea");for(var n=0,r=t.size();n<r;n++)if((e&&t[n].onfocus==null||!e)&&!$(t[n]).attr("readonly")){$(t[n]).focus();break}}};String.prototype.leftTrim=function(){return this.replace(/^\s\s*/,"")},String.prototype.rightTrim=function(){return this.replace(/\s\s*$/,"")},String.prototype.trim=function(){return this.leftTrim().rightTrim()},String.prototype.isNotEmpty=function(){var e={};e.bool=!1;var t=this.trim();return t===undefined||t===null||t.length===0||t===""||t==="null"?e:(e.bool=!0,e)},String.prototype.test=function(e){var t={};return t.bool=!1,this.trim().search(e)===-1?t:(t.bool=!0,t)},String.prototype.checkNum=JCTools.checkNum,String.prototype.chnMoney=JCTools.chnMoney,String.prototype.md5=function(){function n(n){e="";for(var r=0;r<=3;r++)e+=t.charAt(n>>r*8+4&15)+t.charAt(n>>r*8&15);return e}function r(e){var t=(e.length+8>>6)+1,n=new Array(t*16);for(var r=0;r<t*16;r++)n[r]=0;for(r=0;r<e.length;r++)n[r>>2]|=e.charCodeAt(r)<<r%4*8;return n[r>>2]|=128<<r%4*8,n[t*16-2]=e.length*8,n}function i(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function s(e,t){return e<<t|e>>>32-t}function o(e,t,n,r,o,u){return i(s(i(i(t,e),i(r,u)),o),n)}function u(e,t,n,r,i,s,u){return o(t&n|~t&r,e,t,i,s,u)}function a(e,t,n,r,i,s,u){return o(t&r|n&~r,e,t,i,s,u)}function f(e,t,n,r,i,s,u){return o(t^n^r,e,t,i,s,u)}function l(e,t,n,r,i,s,u){return o(n^(t|~r),e,t,i,s,u)}var e=this.trim(),t="0123456789ABCDEF",c=r(e),h=1732584193,p=-271733879,d=-1732584194,v=271733878;for(var m=0;m<c.length;m+=16){var g=h,y=p,b=d,w=v;h=u(h,p,d,v,c[m+0],7,-680876936),v=u(v,h,p,d,c[m+1],12,-389564586),d=u(d,v,h,p,c[m+2],17,606105819),p=u(p,d,v,h,c[m+3],22,-1044525330),h=u(h,p,d,v,c[m+4],7,-176418897),v=u(v,h,p,d,c[m+5],12,1200080426),d=u(d,v,h,p,c[m+6],17,-1473231341),p=u(p,d,v,h,c[m+7],22,-45705983),h=u(h,p,d,v,c[m+8],7,1770035416),v=u(v,h,p,d,c[m+9],12,-1958414417),d=u(d,v,h,p,c[m+10],17,-42063),p=u(p,d,v,h,c[m+11],22,-1990404162),h=u(h,p,d,v,c[m+12],7,1804603682),v=u(v,h,p,d,c[m+13],12,-40341101),d=u(d,v,h,p,c[m+14],17,-1502002290),p=u(p,d,v,h,c[m+15],22,1236535329),h=a(h,p,d,v,c[m+1],5,-165796510),v=a(v,h,p,d,c[m+6],9,-1069501632),d=a(d,v,h,p,c[m+11],14,643717713),p=a(p,d,v,h,c[m+0],20,-373897302),h=a(h,p,d,v,c[m+5],5,-701558691),v=a(v,h,p,d,c[m+10],9,38016083),d=a(d,v,h,p,c[m+15],14,-660478335),p=a(p,d,v,h,c[m+4],20,-405537848),h=a(h,p,d,v,c[m+9],5,568446438),v=a(v,h,p,d,c[m+14],9,-1019803690),d=a(d,v,h,p,c[m+3],14,-187363961),p=a(p,d,v,h,c[m+8],20,1163531501),h=a(h,p,d,v,c[m+13],5,-1444681467),v=a(v,h,p,d,c[m+2],9,-51403784),d=a(d,v,h,p,c[m+7],14,1735328473),p=a(p,d,v,h,c[m+12],20,-1926607734),h=f(h,p,d,v,c[m+5],4,-378558),v=f(v,h,p,d,c[m+8],11,-2022574463),d=f(d,v,h,p,c[m+11],16,1839030562),p=f(p,d,v,h,c[m+14],23,-35309556),h=f(h,p,d,v,c[m+1],4,-1530992060),v=f(v,h,p,d,c[m+4],11,1272893353),d=f(d,v,h,p,c[m+7],16,-155497632),p=f(p,d,v,h,c[m+10],23,-1094730640),h=f(h,p,d,v,c[m+13],4,681279174),v=f(v,h,p,d,c[m+0],11,-358537222),d=f(d,v,h,p,c[m+3],16,-722521979),p=f(p,d,v,h,c[m+6],23,76029189),h=f(h,p,d,v,c[m+9],4,-640364487),v=f(v,h,p,d,c[m+12],11,-421815835),d=f(d,v,h,p,c[m+15],16,530742520),p=f(p,d,v,h,c[m+2],23,-995338651),h=l(h,p,d,v,c[m+0],6,-198630844),v=l(v,h,p,d,c[m+7],10,1126891415),d=l(d,v,h,p,c[m+14],15,-1416354905),p=l(p,d,v,h,c[m+5],21,-57434055),h=l(h,p,d,v,c[m+12],6,1700485571),v=l(v,h,p,d,c[m+3],10,-1894986606),d=l(d,v,h,p,c[m+10],15,-1051523),p=l(p,d,v,h,c[m+1],21,-2054922799),h=l(h,p,d,v,c[m+8],6,1873313359),v=l(v,h,p,d,c[m+15],10,-30611744),d=l(d,v,h,p,c[m+6],15,-1560198380),p=l(p,d,v,h,c[m+13],21,1309151649),h=l(h,p,d,v,c[m+4],6,-145523070),v=l(v,h,p,d,c[m+11],10,-1120210379),d=l(d,v,h,p,c[m+2],15,718787259),p=l(p,d,v,h,c[m+9],21,-343485551),h=i(h,g),p=i(p,y),d=i(d,b),v=i(v,w)}return n(h)+n(p)+n(d)+n(v)},String.prototype.dateFormat=function(){if(!this.isNotEmpty().bool)return"";var e=this.trim(),t,n;return e.length===7?(t=e.split("-"),new Date(parseInt(t[0],10),parseInt(t[1],10)-1)):e.length===10?(t=e.split("-"),new Date(parseInt(t[0],10),parseInt(t[1],10)-1,parseInt(t[2],10))):e.length===16?(t=e.split(" ")[0].split("-"),n=e.split(" ")[1].split(":"),new Date(parseInt(t[0],10),parseInt(t[1],10)-1,parseInt(t[2],10),parseInt(n[0],10),parseInt(n[1],10))):e.length===19?(t=e.split(" ")[0].split("-"),n=e.split(" ")[1].split(":"),new Date(parseInt(t[0],10),parseInt(t[1],10)-1,parseInt(t[2],10),parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10))):""},String.prototype.isChinaIDCard=function(){function t(e){if(!e)return!1;var t=/^\d+(\.\d+)?$/;if(!t.test(e))return!1;try{if(parseFloat(e)!=e)return!1}catch(n){return!1}return!0}function n(e,n,r){return!(e>2200||e<1900||!t(e)||n>12||n<=0||!t(n)||r>31||r<=0||!t(r))}var e=this.trim(),r={};r.bool=!1;if(e.length==15){if(!n("19"+e.substr(6,2),e.substr(8,2),e.substr(10,2)))return r}else{if(e.length!=18)return r;if(!n(e.substr(6,4),e.substr(10,2),e.substr(12,2)))return r}if(e.length==18){var i,s,o;if(!t(e.substr(0,17)))return r;i=parseInt(e.substr(0,1))*7+parseInt(e.substr(1,1))*9+parseInt(e.substr(2,1))*10,i=i+parseInt(e.substr(3,1))*5+parseInt(e.substr(4,1))*8+parseInt(e.substr(5,1))*4,i=i+parseInt(e.substr(6,1))*2+parseInt(e.substr(7,1))+parseInt(e.substr(8,1))*6,i=i+parseInt(e.substr(9,1))*3+parseInt(e.substr(10,1))*7+parseInt(e.substr(11,1))*9,i=i+parseInt(e.substr(12,1))*10+parseInt(e.substr(13,1))*5+parseInt(e.substr(14,1))*8,i=i+parseInt(e.substr(15,1))*4+parseInt(e.substr(16,1))*2,s=i%11,s==2?o=e.substr(17,1).toUpperCase():o=parseInt(e.substr(17,1));switch(s){case 0:if(o!=1)return!1;break;case 1:if(o!=0)return r;break;case 2:if(o!="X")return r;break;case 3:if(o!=9)return r;break;case 4:if(o!=8)return r;break;case 5:if(o!=7)return r;break;case 6:if(o!=6)return r;break;case 7:if(o!=5)return r;break;case 8:if(o!=4)return r;break;case 9:if(o!=3)return r;break;case 10:if(o!=2)return r}}else if(!t(e))return r;return r.bool=!0,r},String.prototype.toHex=function(){var e,t,n="";for(var r=0;r<this.length;r++)t=this.charCodeAt(r),e=t%16,n+="%"+"0123456789ABCDEF".charAt((t-e)/16)+"0123456789ABCDEF".charAt(e);return n},String.prototype.hex2Str=function(){var e=this.split("%");for(var t=0;t<e.length;t++)e[t]=e[t].substring(1);return e.join("")},Number.prototype.checkNum=JCTools.checkNum,Number.prototype.chnMoney=JCTools.chnMoney,Date.prototype.dateFormat=function(){return this.getFullYear()+"-"+JCTools.getStr(this.getMonth()+1)+"-"+JCTools.getStr(this.getDate())},Date.prototype.dateMinuteFormat=function(){return this.getFullYear()+"-"+JCTools.getStr(this.getMonth()+1)+"-"+JCTools.getStr(this.getDate())+" "+JCTools.getStr(this.getHours())+":"+JCTools.getStr(this.getMinutes())},Date.prototype.datetimeFormat=function(){return this.getFullYear()+"-"+JCTools.getStr(this.getMonth()+1)+"-"+JCTools.getStr(this.getDate())+" "+JCTools.getStr(this.getHours())+":"+JCTools.getStr(this.getMinutes())+":"+JCTools.getStr(this.getSeconds())},Date.prototype.minuteFormat=function(){return JCTools.getStr(this.getHours())+":"+JCTools.getStr(this.getMinutes())},Date.prototype.timeFormat=function(){return JCTools.getStr(this.getHours())+":"+JCTools.getStr(this.getMinutes())+":"+JCTools.getStr(this.getSeconds())};var JCCheckFunc={returnTrue:function(){arguments=arguments[0];var e=arguments[0],t=$("#"+e),n={};return n.bool=!0,n.obj=t,n},checkNum:function(){arguments=arguments[0];var e=arguments[0],t=arguments[1];t=t==""?"请输入正确数字！":t+"！";var n=arguments[2],r=arguments[3],i=$("#"+e),s=i.val().checkNum(n,r);return s.obj=i,s.bool||(s.errMsg=t),s},checkEmpty:function(){arguments=arguments[0];var e=arguments[0],t=arguments[1],n=$("#"+e),r=n.val().isNotEmpty();return r.obj=n,r.bool||(r.errMsg=t==undefined||t==""?"该项不能为空！":t+"不能为空！"),r},checkHiddenEmpty:function(){arguments=arguments[0];var e=arguments[0],t=arguments[1],n=arguments[2],r=$("#"+e).val().isNotEmpty();return r.obj=$("#"+n),r.bool||(r.errMsg=t==undefined||t==""?"该项不能为空！":t+"！"),r},checkAllEmpty:function(){arguments=arguments[0];var e,t;for(var n=0,r=arguments[0].length;n<r;n++){var i=$("#"+arguments[0][n]);e=i.val().isNotEmpty(),e.obj=arguments[2][n]==undefined||arguments[2][n]==""?i:$("#"+arguments[2][n]);if(n==0)t=e.bool;else{if(t&&!e.bool)return e.errMsg=arguments[1][n]==undefined||arguments[1][n]==""?"该项不能为空！":arguments[1][n]+"！",e;if(!t&&e.bool)return e.bool=t,e.obj=arguments[2][0]==undefined||arguments[2][0]==""?$("#"+arguments[0][0]):$("#"+arguments[2][n]),e.errMsg=arguments[1][n]==undefined||arguments[1][n]==""?"该项不能为空！":arguments[1][n]+"！",e}}return e.bool=!0,e.showRight=!1,e},max:function(){arguments=arguments[0];var e=arguments[0],t=arguments[1],n=arguments[2];n=n==undefined||n==""?"该项":n;var r=$("#"+e),i={};return i.obj=r,parseInt(r.val().length,10)>parseInt(t,10)?(i.errMsg=n+"不能超过"+t+"个字！",i.bool=!1):i.bool=!0,i},min:function(){arguments=arguments[0];var e=arguments[0],t=arguments[1],n=arguments[2];n=n==undefined||n==""?"该项":n;var r=$("#"+e),i={};return i.obj=r,parseInt(r.val().length,10)<parseInt(t,10)?(i.errMsg=n+"不能少于"+t+"个字！",i.bool=!1):i.bool=!0,i},checkRegExp:function(){arguments=arguments[0];var e=arguments[0],t=arguments[1],n=arguments[2],r=$("#"+e),i;return r.val().isNotEmpty().bool?(i=r.val().test(n.code),i.obj=r,i.errMsg=t+n.msg,i):(i={},i.obj=r,i.bool=!0,i)},checkSelect:function(){arguments=arguments[0];var e=arguments[0],t=arguments[1],n=$("#"+e),r={};return r.obj=n,n.get(0).selectedIndex===0?(r.errMsg=t==undefined||t==""?"该项不能为空！":t+"！",r.bool=!1):r.bool=!0,r},checkcb:function(){arguments=arguments[0];var e=arguments[0],t=arguments[1];t=t==undefined||t==""?"该项":t;var n=arguments[2],r=arguments[3],i=$("input[name="+e+"]"),s={};s.obj=$(i[0]),s.bool=!1;if(i.length==0)return s.errMsg="没有要处理的选项！",s;var o=$("input[name="+e+"]:checked").length;if(r===undefined||r===""){if(o<n)return s.errMsg=t+"至少选择"+n+"项！",s}else if(n==r){if(o!=n)return s.errMsg=t+"请选择"+n+"项！",s}else{if(o<n)return s.errMsg=t+"至少选择"+n+"项！",s;if(o>r)return s.errMsg=t+"最多选择"+r+"项！",s}return s.bool=!0,s},compareDate:function(){arguments=arguments[0];var e=arguments[0],t=arguments[1],n=arguments[2]===undefined||arguments[2]===""?"开始时间":arguments[2],r=arguments[3]===undefined||arguments[3]===""?"结束时间":arguments[3],i=arguments[4]===undefined||arguments[4]===""?"不能大于":arguments[4],s=$("#"+e),o=$("#"+t),u={};return u.obj=o,s.val().dateFormat()>o.val().dateFormat()?(u.bool=!1,u.errMsg=n+i+r):u.bool=!0,u},ajax:function(){arguments=arguments[0];var url=arguments[0],data=arguments[1],evalData=arguments[2];for(var i in evalData)data[i]=eval(evalData[i]);var success=arguments[3],dataType=arguments[4];dataType=dataType==undefined||dataType==""?"text":dataType;var type=arguments[5];type=type==undefined||type==""?"POST":type;var error=arguments[6];error=error==undefined||error==""?function(){}:error;var returnOjb={};return $.ajax({async:!1,url:url,type: requestMethod.POST,data:data,dataType:dataType,success:function(e){returnOjb=success(e,returnOjb)},error:error}),returnOjb},dwr:function(){arguments=arguments[0];var e=arguments[0];dwr.engine.setAsync(!1);var t=e(arguments);return dwr.engine.setAsync(!0),t}};$(function(){(function(e){var t=function(){var t=function(){return new t.fn.init};return t.fn=t.prototype={effect:"1",tipConfig:{offset:[10,2],effect:"fade",tip:"#tipText",position:"bottom center",opacity:.9},methods:{returnTrue:JCCheckFunc.returnTrue,checkNum:JCCheckFunc.checkNum,checkEmpty:JCCheckFunc.checkEmpty,checkHiddenEmpty:JCCheckFunc.checkHiddenEmpty,checkAllEmpty:JCCheckFunc.checkAllEmpty,max:JCCheckFunc.max,min:JCCheckFunc.min,checkcb:JCCheckFunc.checkcb,checkRegExp:JCCheckFunc.checkRegExp,compareDate:JCCheckFunc.compareDate,checkSelect:JCCheckFunc.checkSelect,ajax:JCCheckFunc.ajax,dwr:JCCheckFunc.dwr},validateFlag:!1,focusFlag:!0,init:function(){return e.XMLHttpRequest?(this.enterToTabObj=JCTools.enterToTab($("input:visible,select:visible,a.search_button:visible").not("select:disabled").not("input:disabled").not("input[readonly]")),JCTools.forbidBack()):document.onkeydown=function(){var t=e.event;t.keyCode==13&&t.srcElement.type!="button"&&t.srcElement.type!="submit"&&t.srcElement.type!="a"&&t.srcElement.type!="image"&&(t.keyCode=9,top.document.getElementsByTagName("iframe")[0].src.indexOf("My97DatePicker.htm")!=-1&&(top.document.getElementsByTagName("div")[0].style.display="none"))},this},inputInit:function(){return JCTools.intInit(),JCTools.floatInit(),this.addDiv(),this},validate:function(){this.validateFlag=!1,$(".inputerror").removeClass("inputerror");var e,t=!0;arguments=arguments[0]instanceof Array?arguments=arguments[0]:arguments;e:for(var n=0,r=arguments.length;n<r;n++){e=arguments[n];if(e!==undefined&&e!==null)for(var i in e.objInfo){t=this.validateObj(e,i,this.focusFlag)&&t;if(!t)break e}}return t},validateObj:function(e,t,n){var r=!1;for(var i in e.objInfo[t]){var s=e.objInfo[t][i],o=this.methods[i](s);r=o.bool;var u=o.warnMsg;if(!r){this.doError(e,o,n);break}u!==undefined&&u!==null&&this.doWarn(e,o)}return r&&this.doCorrect(e,o),r},validateByEvent:function(e,t){t===undefined&&(t="blur");for(var n in e.objInfo)$("#"+n).unbind(".validateByEvent").bind(t+".validateByEvent",{that:this,objInfo:n,rules:e},this.valicateByEventFunc);return this},valicateByEventFunc:function(e){var t=e.data.that,n=e.data.objInfo,r=e.data.rules;t.validateFlag=!1,t.validateObj(r,n)},doError:function(e,t,n){this.addDiv(),t.obj.addClass("inputerror");if(this.effect=="1")$("#tipText").html(t.errMsg).removeClass().addClass("error"),t.obj.tooltip(this.tipConfig),t.obj.tooltip(0).show().hide().show().hide().show(),n&&!t.obj[0].onfocus&&t.obj.focus();else{var r=e.divInfo==undefined?"msg-error":e.divInfo.id;$("#"+r).show();var i="<li name='"+t.obj.attr("id")+"ErrMsg'><a href='#'>"+t.errMsg+"</a></li>";$("#"+r+" li[name="+t.obj.attr("id")+"ErrMsg]").length==0?$("#"+r+">ul").append(i):$("li[name="+t.obj.attr("id")+"ErrMsg]").replaceWith(i),t.obj.parent("td").prev().addClass("alert"),$("#"+r+" li[name='"+t.obj.attr("id")+"ErrMsg']>a").click(function(){t.obj.get(0).focus()}),t.obj.tooltip(this.tipConfig)}},doCorrect:function(e,t){this.addDiv(),t.obj.removeClass("inputerror");if(this.effect=="1"){if(!this.validateFlag){$("#tipText").fadeOut();return}t.obj.tooltip(this.tipConfig),$("#tipText").attr("objId",t.obj.attr("id")).html("输入正确").removeClass().addClass("success"),t.obj.tooltip(0).show().hide().show(),setTimeout("$('#'+$('#tipText').attr('objId')).tooltip(0).hide()",1e3)}else{var n=e.divInfo==undefined?"msg-error":e.divInfo.id;$("li[name="+t.obj.attr("id")+"ErrMsg]").fadeOut("normal",function(){$(this).remove(),$("#"+n+" li").length==0&&$("#"+n).hide()}),t.obj.parent("td").prev().removeClass("alert")}},doWarn:function(e,t){},addMethod:function(e,t){return this.methods[e]=t,this},inputTrim:function(){$("input:text").each(function(){this.value=this.value.trim()})},fnFireEvent:function(e,t){if(document.all)e.fireEvent("on"+t);else{var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}},addDiv:function(){this.effect=="1"?$("#tipText").size()==0&&($("body").append("<div id='tipText' class='tooltip'></div>"),$("#tipText").click(function(){$(this).fadeOut()})):$("#msg-error").size()==0&&$("body").prepend('<div class="error-block" id="msg-error" style="display:none;"><p class="icon alert">提交前需要更正如下错误：</p><ul></ul></div>')},setEffect:function(e){return e!==undefined&&(this.effect=e),this}},t.fn.init.prototype=t.fn,new t}();e.ccjc=e.JC=t})(window)})